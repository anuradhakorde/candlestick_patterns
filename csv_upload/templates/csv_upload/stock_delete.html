{% extends 'base.html' %}

{% block title %}Delete Stock - CandlestickPattern{% endblock %}

{% block content %}
<header style="text-align: center; margin: 40px 0;">
    <h1>ğŸ—‘ï¸ Delete Stock</h1>
    <p style="font-size: 1.2em; color: #dc3545;">Are you sure you want to delete this stock?</p>
</header>

<main>
    <section style="background: white; padding: 40px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin: 20px auto; max-width: 600px;">
        
        <!-- Warning Alert -->
        <div style="background: #f8d7da; color: #721c24; padding: 20px; border-radius: 8px; border: 1px solid #f5c6cb; margin-bottom: 30px; text-align: center;">
            <div style="font-size: 2.5em; margin-bottom: 15px;">âš ï¸</div>
            <h3 style="margin-bottom: 15px;">Permanent Deletion Warning</h3>
            <p style="margin: 0; font-size: 1.1em;">This action cannot be undone!</p>
        </div>
        
        <!-- Stock Information -->
        <div style="background: #f8f9fa; padding: 25px; border-radius: 8px; margin-bottom: 30px;">
            <h3 style="color: var(--dark-color); margin-bottom: 20px; text-align: center;">Stock to be Deleted</h3>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div>
                    <strong style="color: var(--dark-color);">Symbol:</strong>
                    <p style="margin: 5px 0; color: var(--primary-color); font-size: 1.2em; font-weight: bold;">{{ stock.stock_symbol }}</p>
                </div>
                <div>
                    <strong style="color: var(--dark-color);">Exchange:</strong>
                    <p style="margin: 5px 0; color: #666;">{{ stock.stock_exchange|default:"Not specified" }}</p>
                </div>
                <div>
                    <strong style="color: var(--dark-color);">Company Name:</strong>
                    <p style="margin: 5px 0; color: #666;">{{ stock.stock_name|default:"Not specified" }}</p>
                </div>
                <div>
                    <strong style="color: var(--dark-color);">Group:</strong>
                    <p style="margin: 5px 0; color: #666;">{{ stock.stock_group|default:"Not specified" }}</p>
                </div>
            </div>
        </div>
        
        <!-- Impact Information -->
        <div style="background: #fff3cd; color: #856404; padding: 20px; border-radius: 8px; border: 1px solid #ffeaa7; margin-bottom: 30px;">
            <h4 style="margin-bottom: 15px;">ğŸ“Š Deletion Impact</h4>
            <div style="display: flex; align-items: center; gap: 15px;">
                <div style="font-size: 2em;">ğŸ•¯ï¸</div>
                <div>
                    <strong>{{ candlestick_count }} Candlestick Record{{ candlestick_count|pluralize }}</strong>
                    <p style="margin: 5px 0 0 0; font-size: 0.9em;">
                        {% if candlestick_count > 0 %}
                            All associated candlestick data will be permanently deleted.
                        {% else %}
                            No candlestick data will be affected.
                        {% endif %}
                    </p>
                </div>
            </div>
        </div>
        
        <form method="post" style="text-align: center;">
            {% csrf_token %}
            
            <div style="display: flex; gap: 20px; justify-content: center; margin-top: 30px;">
                <button type="submit" class="btn" style="background-color: var(--danger-color); color: white; padding: 12px 30px; font-size: 1.1em;">
                    ğŸ—‘ï¸ Yes, Delete Stock
                </button>
                <a href="{% url 'csv_upload:stock_detail' stock.stock_id %}" 
                   class="btn" style="background-color: var(--secondary-color); color: white; padding: 12px 30px; font-size: 1.1em;">
                    ğŸš« Cancel
                </a>
            </div>
        </form>
        
        <!-- Help Text -->
        <div style="margin-top: 30px; padding: 20px; background: #e8f4f8; border-radius: 8px; border-left: 4px solid var(--info-color);">
            <h5 style="color: var(--info-color); margin-bottom: 10px;">ğŸ’¡ Alternative Actions</h5>
            <p style="color: #666; margin: 0; font-size: 0.9em;">
                If you don't want to permanently delete this stock, consider:
            </p>
            <ul style="color: #666; margin: 10px 0 0 0; padding-left: 20px; font-size: 0.9em;">
                <li>Editing the stock information instead</li>
                <li>Removing only specific candlestick records</li>
                <li>Exporting the data before deletion</li>
            </ul>
        </div>
    </section>

    <!-- Quick Actions -->
    <section style="background: linear-gradient(135deg, var(--danger-color), var(--warning-color)); color: white; padding: 30px; border-radius: 10px; margin: 40px 0; text-align: center;">
        <h3 style="margin-bottom: 20px;">Alternative Actions</h3>
        <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
            <a href="{% url 'csv_upload:stock_edit' stock.stock_id %}" class="btn" style="background-color: rgba(255,255,255,0.2); color: white; border: 2px solid white;">
                âœï¸ Edit Instead
            </a>
            <a href="{% url 'csv_upload:stock_detail' stock.stock_id %}" class="btn" style="background-color: rgba(255,255,255,0.2); color: white; border: 2px solid white;">
                ğŸ‘ï¸ View Details
            </a>
            <a href="{% url 'csv_upload:stock_list' %}" class="btn" style="background-color: rgba(255,255,255,0.2); color: white; border: 2px solid white;">
                ğŸ“‹ Back to List
            </a>
        </div>
    </section>
</main>
{% endblock %}